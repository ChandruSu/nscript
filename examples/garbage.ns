
let std = import("std");

fun test() {

  let N = 1000;  # Adjust for more stress
  let iterations = 1000;  # Number of GC stress loops

  std.println("Starting GC stress test...");

  let i = 0;
  while i < iterations {
    std.println("Starting Iteration: " + std.str(i));

    let arr = [];  # Create a new array

    let j = 0;
    while j < N {
      std.append(arr, j);  # Fill it with numbers
      j += 1;
    }

    i += 1;
  }

  std.println("GC stress test complete.");
}

test();